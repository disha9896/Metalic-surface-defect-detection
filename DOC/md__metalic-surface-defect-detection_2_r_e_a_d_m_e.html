<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Matallic Surface defect detection: Metalic-surface-defect-detection</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Matallic Surface defect detection<span id="projectnumber">&#160;1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Metalic-surface-defect-detection</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> The goal of this project is to develop an automated inspection process with precise localization of the defects on the metallic surface for example coffee machine, microwave and other small appliances. The defects that can appear are of many types such as dents, scratches or stains, burns, rust or cracks on the metallic surface. Currently we will be focusing on coffee machine to detect defects.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Dataset</h1>
<p>Training of the defect detection was done using the kaggle dataset which can be downloaded using this link <a href="https://www.kaggle.com/datasets/alex000kim/gc10det">https://www.kaggle.com/datasets/alex000kim/gc10det</a>. Scratch detection dataset was downloaded from <a href="https://www.kaggle.com/datasets/fantacher/neu-metal-surface-defects-data/data">https://www.kaggle.com/datasets/fantacher/neu-metal-surface-defects-data/data</a> this dataset did not have labels so need to annotate them.</p>
<p>A sample dataset from the original dataset is stored in the dataset folder which is divided into train, test and valid folder. It also contains the labels(annotations) and data.yml file which help to locate the images and the labels for training.</p>
<p>This sample dataset will help to train a sample model.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Setup Instructions</h1>
<ol type="1">
<li>Make sure you have python installed in your system</li>
<li>Install required libraries by running following code. requirements.txt file present in the repository <div class="fragment"><div class="line">pip install -r requirements.txt </div>
</div><!-- fragment --></li>
<li><p class="startli">Install git lfs to use the large files i.e. models in the repository. Homebrew: <code>brew install git-lfs</code> MacPorts: <code>port install git-lfs</code></p>
<p class="startli">Then pull from the git repo using the command : </p><div class="fragment"><div class="line">git lfs pull</div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="autotoc_md3"></a>
File Information</h1>
<ol type="1">
<li>defect_detection file contains the class to train the model and do model prediction.</li>
<li>Dataset folder contains sample images and labels to train the model.</li>
<li>results folder stores the results after prediction.</li>
<li>after training runs/train contains the trained model and validations.</li>
<li>Validation_results folder contains the graphs and predicted images of the trained model of best.pt</li>
<li>Model folder contains best.pt file which is the model to detect the defects.</li>
<li>Yolov9e.pt is the pre-trained model in the model folder which is used to train the new custome model.</li>
</ol>
<h1><a class="anchor" id="autotoc_md4"></a>
Steps to Train the Model</h1>
<ol type="1">
<li>Open train_demo.py file.</li>
<li>Add the dataset directory path.(Ignore this if you want to use the default path)</li>
</ol>
<ol type="1">
<li>Load the pre-trained yolov9e.pt model from the model folder.</li>
<li>Run the train function to train the model.</li>
<li>It will store the validation resuls, detected results and the model in the run/detect/train folder.</li>
</ol>
<p>Note - If training on cpu this process will take time so don't run for more than 1 epoch.</p>
<p>Use the best.pt model to predict results as it is trained properly with all the images the dataset here is just a sample dataset for you to try and train the model whole dataset link is provided above. The training for complete dataset requires GPU and takes more time to train.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Testing</h1>
<p>There are 4 test in total.</p><ol type="1">
<li>Video_testing.py (mimicking the real scenario)</li>
<li>prediction.py (predict single image)</li>
<li>predict_multiple.py (predicts mutiple images)</li>
<li>train_demo.py (which contains the training code)</li>
</ol>
<p>Use <a href="https://drive.google.com/file/d/1iNPShVs4savAWnnSpJplAdfEeTDbwecw/view?usp=share_link">https://drive.google.com/file/d/1iNPShVs4savAWnnSpJplAdfEeTDbwecw/view?usp=share_link</a> to download the video for video testing. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
